{"ast":null,"code":"/**\n * Copyright 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactCurrentOwner = require('./ReactCurrentOwner');\n\nvar invariant = require('fbjs/lib/invariant');\n\nvar warning = require('fbjs/lib/warning');\n\nfunction isNative(fn) {\n  // Based on isNative() from Lodash\n  var funcToString = Function.prototype.toString;\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  var reIsNative = RegExp('^' + funcToString // Take an example native function source for comparison\n  .call(hasOwnProperty) // Strip regex characters so we can use it for regex\n  .replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&') // Remove hasOwnProperty from the template to make it generic\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n\n  try {\n    var source = funcToString.call(fn);\n    return reIsNative.test(source);\n  } catch (err) {\n    return false;\n  }\n}\n\nvar canUseCollections = // Array.from\ntypeof Array.from === 'function' && // Map\ntypeof Map === 'function' && isNative(Map) && // Map.prototype.keys\nMap.prototype != null && typeof Map.prototype.keys === 'function' && isNative(Map.prototype.keys) && // Set\ntypeof Set === 'function' && isNative(Set) && // Set.prototype.keys\nSet.prototype != null && typeof Set.prototype.keys === 'function' && isNative(Set.prototype.keys);\n\nif (canUseCollections) {\n  var itemMap = new Map();\n  var rootIDSet = new Set();\n\n  var setItem = function (id, item) {\n    itemMap.set(id, item);\n  };\n\n  var getItem = function (id) {\n    return itemMap.get(id);\n  };\n\n  var removeItem = function (id) {\n    itemMap['delete'](id);\n  };\n\n  var getItemIDs = function () {\n    return Array.from(itemMap.keys());\n  };\n\n  var addRoot = function (id) {\n    rootIDSet.add(id);\n  };\n\n  var removeRoot = function (id) {\n    rootIDSet['delete'](id);\n  };\n\n  var getRootIDs = function () {\n    return Array.from(rootIDSet.keys());\n  };\n} else {\n  var itemByKey = {};\n  var rootByKey = {}; // Use non-numeric keys to prevent V8 performance issues:\n  // https://github.com/facebook/react/pull/7232\n\n  var getKeyFromID = function (id) {\n    return '.' + id;\n  };\n\n  var getIDFromKey = function (key) {\n    return parseInt(key.substr(1), 10);\n  };\n\n  var setItem = function (id, item) {\n    var key = getKeyFromID(id);\n    itemByKey[key] = item;\n  };\n\n  var getItem = function (id) {\n    var key = getKeyFromID(id);\n    return itemByKey[key];\n  };\n\n  var removeItem = function (id) {\n    var key = getKeyFromID(id);\n    delete itemByKey[key];\n  };\n\n  var getItemIDs = function () {\n    return Object.keys(itemByKey).map(getIDFromKey);\n  };\n\n  var addRoot = function (id) {\n    var key = getKeyFromID(id);\n    rootByKey[key] = true;\n  };\n\n  var removeRoot = function (id) {\n    var key = getKeyFromID(id);\n    delete rootByKey[key];\n  };\n\n  var getRootIDs = function () {\n    return Object.keys(rootByKey).map(getIDFromKey);\n  };\n}\n\nvar unmountedIDs = [];\n\nfunction purgeDeep(id) {\n  var item = getItem(id);\n\n  if (item) {\n    var childIDs = item.childIDs;\n    removeItem(id);\n    childIDs.forEach(purgeDeep);\n  }\n}\n\nfunction describeComponentFrame(name, source, ownerName) {\n  return '\\n    in ' + (name || 'Unknown') + (source ? ' (at ' + source.fileName.replace(/^.*[\\\\\\/]/, '') + ':' + source.lineNumber + ')' : ownerName ? ' (created by ' + ownerName + ')' : '');\n}\n\nfunction getDisplayName(element) {\n  if (element == null) {\n    return '#empty';\n  } else if (typeof element === 'string' || typeof element === 'number') {\n    return '#text';\n  } else if (typeof element.type === 'string') {\n    return element.type;\n  } else {\n    return element.type.displayName || element.type.name || 'Unknown';\n  }\n}\n\nfunction describeID(id) {\n  var name = ReactComponentTreeHook.getDisplayName(id);\n  var element = ReactComponentTreeHook.getElement(id);\n  var ownerID = ReactComponentTreeHook.getOwnerID(id);\n  var ownerName;\n\n  if (ownerID) {\n    ownerName = ReactComponentTreeHook.getDisplayName(ownerID);\n  }\n\n  process.env.NODE_ENV !== 'production' ? warning(element, 'ReactComponentTreeHook: Missing React element for debugID %s when ' + 'building stack', id) : void 0;\n  return describeComponentFrame(name, element && element._source, ownerName);\n}\n\nvar ReactComponentTreeHook = {\n  onSetChildren: function (id, nextChildIDs) {\n    var item = getItem(id);\n    !item ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Item must have been set') : _prodInvariant('144') : void 0;\n    item.childIDs = nextChildIDs;\n\n    for (var i = 0; i < nextChildIDs.length; i++) {\n      var nextChildID = nextChildIDs[i];\n      var nextChild = getItem(nextChildID);\n      !nextChild ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected hook events to fire for the child before its parent includes it in onSetChildren().') : _prodInvariant('140') : void 0;\n      !(nextChild.childIDs != null || typeof nextChild.element !== 'object' || nextChild.element == null) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected onSetChildren() to fire for a container child before its parent includes it in onSetChildren().') : _prodInvariant('141') : void 0;\n      !nextChild.isMounted ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected onMountComponent() to fire for the child before its parent includes it in onSetChildren().') : _prodInvariant('71') : void 0;\n\n      if (nextChild.parentID == null) {\n        nextChild.parentID = id; // TODO: This shouldn't be necessary but mounting a new root during in\n        // componentWillMount currently causes not-yet-mounted components to\n        // be purged from our tree data so their parent id is missing.\n      }\n\n      !(nextChild.parentID === id) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected onBeforeMountComponent() parent and onSetChildren() to be consistent (%s has parents %s and %s).', nextChildID, nextChild.parentID, id) : _prodInvariant('142', nextChildID, nextChild.parentID, id) : void 0;\n    }\n  },\n  onBeforeMountComponent: function (id, element, parentID) {\n    var item = {\n      element: element,\n      parentID: parentID,\n      text: null,\n      childIDs: [],\n      isMounted: false,\n      updateCount: 0\n    };\n    setItem(id, item);\n  },\n  onBeforeUpdateComponent: function (id, element) {\n    var item = getItem(id);\n\n    if (!item || !item.isMounted) {\n      // We may end up here as a result of setState() in componentWillUnmount().\n      // In this case, ignore the element.\n      return;\n    }\n\n    item.element = element;\n  },\n  onMountComponent: function (id) {\n    var item = getItem(id);\n    !item ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Item must have been set') : _prodInvariant('144') : void 0;\n    item.isMounted = true;\n    var isRoot = item.parentID === 0;\n\n    if (isRoot) {\n      addRoot(id);\n    }\n  },\n  onUpdateComponent: function (id) {\n    var item = getItem(id);\n\n    if (!item || !item.isMounted) {\n      // We may end up here as a result of setState() in componentWillUnmount().\n      // In this case, ignore the element.\n      return;\n    }\n\n    item.updateCount++;\n  },\n  onUnmountComponent: function (id) {\n    var item = getItem(id);\n\n    if (item) {\n      // We need to check if it exists.\n      // `item` might not exist if it is inside an error boundary, and a sibling\n      // error boundary child threw while mounting. Then this instance never\n      // got a chance to mount, but it still gets an unmounting event during\n      // the error boundary cleanup.\n      item.isMounted = false;\n      var isRoot = item.parentID === 0;\n\n      if (isRoot) {\n        removeRoot(id);\n      }\n    }\n\n    unmountedIDs.push(id);\n  },\n  purgeUnmountedComponents: function () {\n    if (ReactComponentTreeHook._preventPurging) {\n      // Should only be used for testing.\n      return;\n    }\n\n    for (var i = 0; i < unmountedIDs.length; i++) {\n      var id = unmountedIDs[i];\n      purgeDeep(id);\n    }\n\n    unmountedIDs.length = 0;\n  },\n  isMounted: function (id) {\n    var item = getItem(id);\n    return item ? item.isMounted : false;\n  },\n  getCurrentStackAddendum: function (topElement) {\n    var info = '';\n\n    if (topElement) {\n      var name = getDisplayName(topElement);\n      var owner = topElement._owner;\n      info += describeComponentFrame(name, topElement._source, owner && owner.getName());\n    }\n\n    var currentOwner = ReactCurrentOwner.current;\n    var id = currentOwner && currentOwner._debugID;\n    info += ReactComponentTreeHook.getStackAddendumByID(id);\n    return info;\n  },\n  getStackAddendumByID: function (id) {\n    var info = '';\n\n    while (id) {\n      info += describeID(id);\n      id = ReactComponentTreeHook.getParentID(id);\n    }\n\n    return info;\n  },\n  getChildIDs: function (id) {\n    var item = getItem(id);\n    return item ? item.childIDs : [];\n  },\n  getDisplayName: function (id) {\n    var element = ReactComponentTreeHook.getElement(id);\n\n    if (!element) {\n      return null;\n    }\n\n    return getDisplayName(element);\n  },\n  getElement: function (id) {\n    var item = getItem(id);\n    return item ? item.element : null;\n  },\n  getOwnerID: function (id) {\n    var element = ReactComponentTreeHook.getElement(id);\n\n    if (!element || !element._owner) {\n      return null;\n    }\n\n    return element._owner._debugID;\n  },\n  getParentID: function (id) {\n    var item = getItem(id);\n    return item ? item.parentID : null;\n  },\n  getSource: function (id) {\n    var item = getItem(id);\n    var element = item ? item.element : null;\n    var source = element != null ? element._source : null;\n    return source;\n  },\n  getText: function (id) {\n    var element = ReactComponentTreeHook.getElement(id);\n\n    if (typeof element === 'string') {\n      return element;\n    } else if (typeof element === 'number') {\n      return '' + element;\n    } else {\n      return null;\n    }\n  },\n  getUpdateCount: function (id) {\n    var item = getItem(id);\n    return item ? item.updateCount : 0;\n  },\n  getRootIDs: getRootIDs,\n  getRegisteredIDs: getItemIDs\n};\nmodule.exports = ReactComponentTreeHook;","map":{"version":3,"sources":["/Users/jasper/node_modules/react/lib/ReactComponentTreeHook.js"],"names":["_prodInvariant","require","ReactCurrentOwner","invariant","warning","isNative","fn","funcToString","Function","prototype","toString","hasOwnProperty","Object","reIsNative","RegExp","call","replace","source","test","err","canUseCollections","Array","from","Map","keys","Set","itemMap","rootIDSet","setItem","id","item","set","getItem","get","removeItem","getItemIDs","addRoot","add","removeRoot","getRootIDs","itemByKey","rootByKey","getKeyFromID","getIDFromKey","key","parseInt","substr","map","unmountedIDs","purgeDeep","childIDs","forEach","describeComponentFrame","name","ownerName","fileName","lineNumber","getDisplayName","element","type","displayName","describeID","ReactComponentTreeHook","getElement","ownerID","getOwnerID","process","env","NODE_ENV","_source","onSetChildren","nextChildIDs","i","length","nextChildID","nextChild","isMounted","parentID","onBeforeMountComponent","text","updateCount","onBeforeUpdateComponent","onMountComponent","isRoot","onUpdateComponent","onUnmountComponent","push","purgeUnmountedComponents","_preventPurging","getCurrentStackAddendum","topElement","info","owner","_owner","getName","currentOwner","current","_debugID","getStackAddendumByID","getParentID","getChildIDs","getSource","getText","getUpdateCount","getRegisteredIDs","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright 2016-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\n'use strict';\n\nvar _prodInvariant = require('./reactProdInvariant');\n\nvar ReactCurrentOwner = require('./ReactCurrentOwner');\n\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\nfunction isNative(fn) {\n  // Based on isNative() from Lodash\n  var funcToString = Function.prototype.toString;\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  var reIsNative = RegExp('^' + funcToString\n  // Take an example native function source for comparison\n  .call(hasOwnProperty)\n  // Strip regex characters so we can use it for regex\n  .replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  // Remove hasOwnProperty from the template to make it generic\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n  try {\n    var source = funcToString.call(fn);\n    return reIsNative.test(source);\n  } catch (err) {\n    return false;\n  }\n}\n\nvar canUseCollections =\n// Array.from\ntypeof Array.from === 'function' &&\n// Map\ntypeof Map === 'function' && isNative(Map) &&\n// Map.prototype.keys\nMap.prototype != null && typeof Map.prototype.keys === 'function' && isNative(Map.prototype.keys) &&\n// Set\ntypeof Set === 'function' && isNative(Set) &&\n// Set.prototype.keys\nSet.prototype != null && typeof Set.prototype.keys === 'function' && isNative(Set.prototype.keys);\n\nif (canUseCollections) {\n  var itemMap = new Map();\n  var rootIDSet = new Set();\n\n  var setItem = function (id, item) {\n    itemMap.set(id, item);\n  };\n  var getItem = function (id) {\n    return itemMap.get(id);\n  };\n  var removeItem = function (id) {\n    itemMap['delete'](id);\n  };\n  var getItemIDs = function () {\n    return Array.from(itemMap.keys());\n  };\n\n  var addRoot = function (id) {\n    rootIDSet.add(id);\n  };\n  var removeRoot = function (id) {\n    rootIDSet['delete'](id);\n  };\n  var getRootIDs = function () {\n    return Array.from(rootIDSet.keys());\n  };\n} else {\n  var itemByKey = {};\n  var rootByKey = {};\n\n  // Use non-numeric keys to prevent V8 performance issues:\n  // https://github.com/facebook/react/pull/7232\n  var getKeyFromID = function (id) {\n    return '.' + id;\n  };\n  var getIDFromKey = function (key) {\n    return parseInt(key.substr(1), 10);\n  };\n\n  var setItem = function (id, item) {\n    var key = getKeyFromID(id);\n    itemByKey[key] = item;\n  };\n  var getItem = function (id) {\n    var key = getKeyFromID(id);\n    return itemByKey[key];\n  };\n  var removeItem = function (id) {\n    var key = getKeyFromID(id);\n    delete itemByKey[key];\n  };\n  var getItemIDs = function () {\n    return Object.keys(itemByKey).map(getIDFromKey);\n  };\n\n  var addRoot = function (id) {\n    var key = getKeyFromID(id);\n    rootByKey[key] = true;\n  };\n  var removeRoot = function (id) {\n    var key = getKeyFromID(id);\n    delete rootByKey[key];\n  };\n  var getRootIDs = function () {\n    return Object.keys(rootByKey).map(getIDFromKey);\n  };\n}\n\nvar unmountedIDs = [];\n\nfunction purgeDeep(id) {\n  var item = getItem(id);\n  if (item) {\n    var childIDs = item.childIDs;\n\n    removeItem(id);\n    childIDs.forEach(purgeDeep);\n  }\n}\n\nfunction describeComponentFrame(name, source, ownerName) {\n  return '\\n    in ' + (name || 'Unknown') + (source ? ' (at ' + source.fileName.replace(/^.*[\\\\\\/]/, '') + ':' + source.lineNumber + ')' : ownerName ? ' (created by ' + ownerName + ')' : '');\n}\n\nfunction getDisplayName(element) {\n  if (element == null) {\n    return '#empty';\n  } else if (typeof element === 'string' || typeof element === 'number') {\n    return '#text';\n  } else if (typeof element.type === 'string') {\n    return element.type;\n  } else {\n    return element.type.displayName || element.type.name || 'Unknown';\n  }\n}\n\nfunction describeID(id) {\n  var name = ReactComponentTreeHook.getDisplayName(id);\n  var element = ReactComponentTreeHook.getElement(id);\n  var ownerID = ReactComponentTreeHook.getOwnerID(id);\n  var ownerName;\n  if (ownerID) {\n    ownerName = ReactComponentTreeHook.getDisplayName(ownerID);\n  }\n  process.env.NODE_ENV !== 'production' ? warning(element, 'ReactComponentTreeHook: Missing React element for debugID %s when ' + 'building stack', id) : void 0;\n  return describeComponentFrame(name, element && element._source, ownerName);\n}\n\nvar ReactComponentTreeHook = {\n  onSetChildren: function (id, nextChildIDs) {\n    var item = getItem(id);\n    !item ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Item must have been set') : _prodInvariant('144') : void 0;\n    item.childIDs = nextChildIDs;\n\n    for (var i = 0; i < nextChildIDs.length; i++) {\n      var nextChildID = nextChildIDs[i];\n      var nextChild = getItem(nextChildID);\n      !nextChild ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected hook events to fire for the child before its parent includes it in onSetChildren().') : _prodInvariant('140') : void 0;\n      !(nextChild.childIDs != null || typeof nextChild.element !== 'object' || nextChild.element == null) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected onSetChildren() to fire for a container child before its parent includes it in onSetChildren().') : _prodInvariant('141') : void 0;\n      !nextChild.isMounted ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected onMountComponent() to fire for the child before its parent includes it in onSetChildren().') : _prodInvariant('71') : void 0;\n      if (nextChild.parentID == null) {\n        nextChild.parentID = id;\n        // TODO: This shouldn't be necessary but mounting a new root during in\n        // componentWillMount currently causes not-yet-mounted components to\n        // be purged from our tree data so their parent id is missing.\n      }\n      !(nextChild.parentID === id) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected onBeforeMountComponent() parent and onSetChildren() to be consistent (%s has parents %s and %s).', nextChildID, nextChild.parentID, id) : _prodInvariant('142', nextChildID, nextChild.parentID, id) : void 0;\n    }\n  },\n  onBeforeMountComponent: function (id, element, parentID) {\n    var item = {\n      element: element,\n      parentID: parentID,\n      text: null,\n      childIDs: [],\n      isMounted: false,\n      updateCount: 0\n    };\n    setItem(id, item);\n  },\n  onBeforeUpdateComponent: function (id, element) {\n    var item = getItem(id);\n    if (!item || !item.isMounted) {\n      // We may end up here as a result of setState() in componentWillUnmount().\n      // In this case, ignore the element.\n      return;\n    }\n    item.element = element;\n  },\n  onMountComponent: function (id) {\n    var item = getItem(id);\n    !item ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Item must have been set') : _prodInvariant('144') : void 0;\n    item.isMounted = true;\n    var isRoot = item.parentID === 0;\n    if (isRoot) {\n      addRoot(id);\n    }\n  },\n  onUpdateComponent: function (id) {\n    var item = getItem(id);\n    if (!item || !item.isMounted) {\n      // We may end up here as a result of setState() in componentWillUnmount().\n      // In this case, ignore the element.\n      return;\n    }\n    item.updateCount++;\n  },\n  onUnmountComponent: function (id) {\n    var item = getItem(id);\n    if (item) {\n      // We need to check if it exists.\n      // `item` might not exist if it is inside an error boundary, and a sibling\n      // error boundary child threw while mounting. Then this instance never\n      // got a chance to mount, but it still gets an unmounting event during\n      // the error boundary cleanup.\n      item.isMounted = false;\n      var isRoot = item.parentID === 0;\n      if (isRoot) {\n        removeRoot(id);\n      }\n    }\n    unmountedIDs.push(id);\n  },\n  purgeUnmountedComponents: function () {\n    if (ReactComponentTreeHook._preventPurging) {\n      // Should only be used for testing.\n      return;\n    }\n\n    for (var i = 0; i < unmountedIDs.length; i++) {\n      var id = unmountedIDs[i];\n      purgeDeep(id);\n    }\n    unmountedIDs.length = 0;\n  },\n  isMounted: function (id) {\n    var item = getItem(id);\n    return item ? item.isMounted : false;\n  },\n  getCurrentStackAddendum: function (topElement) {\n    var info = '';\n    if (topElement) {\n      var name = getDisplayName(topElement);\n      var owner = topElement._owner;\n      info += describeComponentFrame(name, topElement._source, owner && owner.getName());\n    }\n\n    var currentOwner = ReactCurrentOwner.current;\n    var id = currentOwner && currentOwner._debugID;\n\n    info += ReactComponentTreeHook.getStackAddendumByID(id);\n    return info;\n  },\n  getStackAddendumByID: function (id) {\n    var info = '';\n    while (id) {\n      info += describeID(id);\n      id = ReactComponentTreeHook.getParentID(id);\n    }\n    return info;\n  },\n  getChildIDs: function (id) {\n    var item = getItem(id);\n    return item ? item.childIDs : [];\n  },\n  getDisplayName: function (id) {\n    var element = ReactComponentTreeHook.getElement(id);\n    if (!element) {\n      return null;\n    }\n    return getDisplayName(element);\n  },\n  getElement: function (id) {\n    var item = getItem(id);\n    return item ? item.element : null;\n  },\n  getOwnerID: function (id) {\n    var element = ReactComponentTreeHook.getElement(id);\n    if (!element || !element._owner) {\n      return null;\n    }\n    return element._owner._debugID;\n  },\n  getParentID: function (id) {\n    var item = getItem(id);\n    return item ? item.parentID : null;\n  },\n  getSource: function (id) {\n    var item = getItem(id);\n    var element = item ? item.element : null;\n    var source = element != null ? element._source : null;\n    return source;\n  },\n  getText: function (id) {\n    var element = ReactComponentTreeHook.getElement(id);\n    if (typeof element === 'string') {\n      return element;\n    } else if (typeof element === 'number') {\n      return '' + element;\n    } else {\n      return null;\n    }\n  },\n  getUpdateCount: function (id) {\n    var item = getItem(id);\n    return item ? item.updateCount : 0;\n  },\n\n\n  getRootIDs: getRootIDs,\n  getRegisteredIDs: getItemIDs\n};\n\nmodule.exports = ReactComponentTreeHook;"]},"metadata":{},"sourceType":"script"}